// js/translations.js
const translations = {
  en: {
    // Header
    cart: "üõí View Cart",
    home: "Home",
    cookies: "Cookies",
    cupcakes: "Cupcakes",
    aboutusmenu: "About us",
    contact: "Get a quote",

    // Hero
    heroTitle: "Made with love,",
    heroSubtitle: "shared with joy",
    viewCatalog: "View Catalog",

    // Product Categories
    cookiesTitle: "Cookies",
    cupcakesTitle: "Cupcakes",

    // Product Actions
    addToCart: "üõí Add to Cart",

    // Contact/Quote Section
    contactTitle: "Get a quote",
    phoneLabel: "Phone (optional)",
    phonePlaceholder: "+1 555 555 5555",
    categoryLabel: "Product type",
    categorySelect: "Select one",
    optCustomCupcake: "Custom cupcake",
    optCustomCookie: "Custom cookie",
    optCake: "Cake",
    optOther: "Other",
    qtyLabel: "Estimated quantity",
    qtyPlaceholder: "e.g. 24",
    dateLabel: "Event date (optional)",

    // Footer
    aboutUsTitle: "About Us",
    aboutUsText: "Small brand description for SEO.",
    copyright: "¬© 2025 Brand Name. All rights reserved.",

    // Cart (Snipcart)
    cartTitle: "Shopping Cart",
    cartEmpty: "Your cart is empty",
    cartSubtotal: "Subtotal",
    cartTotal: "Total",
    cartCheckout: "Checkout",
    cartContinue: "Continue Shopping",
    cartRemove: "Remove",

    // review
    titleReview: "Customer Reviews",
    nameLabel: "Name",
    reviewTitle: "Leave a Review",
    reviewSubtitle: "Tell us about your experience with DutsiCakes üç∞",
    reviewFormTitle: "Review Form",
    reviewName: "Name",
    reviewRating: "Raing",
    reviewRatingSelect: "Select",
    reviewComment: "Comment",
    reviewSend: "Submit Review",
    about: {
      title: "About us",
      lead: "Dutsi Cakes is a family-owned cottage bakery that transforms cupcakes and cookies into edible joy.",
      body: {
        p1: "No matter what the flavor, we believe it tells a story; whether it's a rich and fudgy classic or a bright, fruity creation. We constantly evolve and rotate our menus every few months to bring you seasonal favorites and exclusive specialties.",
        p2: "Our custom menu, available for celebrations, weddings, and events, lets you bring your vision to life with flavors and designs made just for you. Our desserts are crafted with dedication to every detail, making each treat truly unforgettable.",
      },
      photoCaption: "Head Baker",
      teamTitle: "Our team",
      team: {
        name1: "Johana",
        role1: "Head Baker",
      },
    },

    // Product Descriptions (from data.json)
    productDescriptions : {
      "campfire-chip": {
        en: "A gooey s'more inside a classic chocolate chip cookie.",
        es: "Relleno cremoso de malvavisco y chocolate dentro de una cl√°sica galleta con chispas de chocolate."
      },
      "berry-bright": {
        en: "Cakey lemon cookie topped with creamy white lemon frosting and a sprinkle of sweet-tart-freeze-dried strawberries for a bright, refreshing finish.",
        es: "Galleta esponjosa de lim√≥n cubierta con cremoso glaseado de lim√≥n y espolvoreada con fresas liofilizadas agridulces para un final brillante y refrescante."
      },
      "cookie-butter-dream": {
        en: "Soft cookie with Biscoff chunks,  cookie butter drizzle and sea salt flakes ",
        es: "Galleta suave con trozos de Biscoff, glaseado de crema de galleta y escamas de sal marina."
      },
      "toffe-temptation": {
        en: "Double chocolate chip cookie topped with rich toffee.",
        es: "Galleta doble de chispas de chocolate coronada con rico toffee."
      },
      "raisin-the-bar": {
        en: "Chewy oatmeal cookie loaded with a delicious mix of sweet raisins, rich chocolate, and warm cinnamon chips in every bite.",
        es: "Galleta de avena masticable cargada con una mezcla deliciosa de uvas pasas, chocolate y chips de canela en cada bocado."
      },
      "velvet-classic": {
        en: "Red velvet cupcake topped with tangy cream cheese frosting",
        es: "Cupcake de red velvet coronado con glaseado de queso crema de toque √°cido."
      },
      "cookie-crush": {
        en: "Vanilla cupcake swirled with oreo pieces and rich oreo cream",
        es: "Cupcake de vainilla con trozos de Oreo y cremosa crema de Oreo."
      },
      "choco-bomb": {
        en: "Moist chocolate cupcake with fudgy chocolate cream cheese frosting",
        es: "Cupcake de chocolate h√∫medo con glaseado de queso crema y chocolate estilo fudgy."
      },
      "citrus-zen": {
        en: "Earthy matcha cupcake topped zesty lemon cream cheese frosting",
        es: "Cupcake de matcha de notas terrosas coronado con glaseado de queso crema al lim√≥n."
      },
      "berry-cloud": {
        en: "Fluffy strawberry cupcake topped with sweet cream cheese frosting",
        es: "Cupcake esponjoso de fresa coronado con glaseado dulce de queso crema."
      },
      "custom-cupcakes-jumbo": {
        en: "Your dream jumbo cupcakes, brought to life. We work with your ideas, favorite flavors, and color palettes to create the perfect custom cupcakes for any occasion.",
        es: "Tus cupcakes jumbo so√±ados, hechos realidad. Trabajamos con tus ideas, sabores favoritos y paletas de color para crear los cupcakes personalizados perfectos para cualquier ocasi√≥n."
      },
      "custom-cupcakes-regular": {
        en: "Your dream regular cupcakes, brought to life. We work with your ideas, favorite flavors, and color palettes to create the perfect custom cupcakes for any occasion.",
        es: "Tus cupcakes regulares so√±ados, hechos realidad. Trabajamos con tus ideas, sabores favoritos y paletas de color para crear los cupcakes personalizados perfectos para cualquier ocasi√≥n."
      },
      "cinnamon-spell": {
        en: "Pumpkin spice cake topped with brown sugar cinnamon frosting",
        es: "Pastel especiado de calabaza coronado con glaseado de canela y az√∫car moreno."
      },
      "halloween-sugar": {
        en: "Chewy sugar cookie in a patchwork of spooky Halloween colors: orange, green, purple, and black - finished with playful candy and sugar eyeballs.",
        es: "Galleta de az√∫car masticable en un mosaico de colores espeluznantes de Halloween ‚Äînaranja, verde, morado y negro‚Äî rematada con divertidos dulces y ojitos de az√∫car."
      },
      "toffee-temptation": {
        en : "Double chocolate chip cookie topped with rich toffee",
        es : "Galleta de doble chocolate con chispas, con cobertura de rico toffee"
      }
    },
    
  },

  es: {
    // Header
    cart: "üõí Ver Carrito",
    home: "Inicio",
    cookies: "Galletas",
    cupcakes: "Cupcakes",
    contact: "Cotiza",
    aboutusmenu: "Nosotros",

    // Hero
    heroTitle: "Hecho con amor,",
    heroSubtitle: "Comparte con alegria",
    viewCatalog: "Ver Cat√°logo",

    // Product Categories
    cookiesTitle: "Galletas",
    cupcakesTitle: "Cupcakes",

    // Product Actions
    addToCart: "üõí Agregar al Carrito",

    // Contacto/Cotiza
    contactTitle: "Cotiza",
    phoneLabel: "Tel√©fono (opcional)",
    phonePlaceholder: "+34 600 000 000",
    categoryLabel: "Tipo de producto",
    categorySelect: "Selecciona uno",
    optCustomCupcake: "Cupcake personalizado",
    optCustomCookie: "Cookie personalizada",
    optCake: "Torta/Pastel",
    optOther: "Otro",
    qtyLabel: "Cantidad estimada",
    qtyPlaceholder: "p. ej. 24",
    dateLabel: "Fecha del evento (opcional)",

    // Footer
    aboutUsTitle: "Sobre Nosotros",
    aboutUsText: "Peque√±a descripci√≥n de la marca para SEO.",
    copyright: "¬© 2025 Nombre de la Marca. Todos los derechos reservados.",

    // Cart (Snipcart)
    cartTitle: "Carrito de Compras",
    cartEmpty: "Tu carrito est√° vac√≠o",
    cartSubtotal: "Subtotal",
    cartTotal: "Total",
    cartCheckout: "Pagar",
    cartContinue: "Continuar Comprando",
    cartRemove: "Eliminar",

    // reviews
    titleReview: "Lo que dicen nuestros clientes",
    nameLabel: "Nombre",
    reviewTitle: "Deja tu Rese√±a",
    reviewSubtitle: "Cu√©ntanos tu experiencia con DutsiCakes üç∞",
    reviewFormTitle: "Formulario de Rese√±a",
    reviewName: "Nombre",
    reviewRating: "Puntuaci√≥n",
    reviewRatingSelect: "Selecciona",
    reviewComment: "Comentario",
    reviewSend: "Enviar Rese√±a",

    about: {
      title: "Sobre nosotros",
      lead: "Dutsi Cakes es una micro-panader√≠a familiar que convierte cupcakes y cookies en peque√±as obras de arte comestibles.",
      body: {
        p1: "Creemos que cada sabor cuenta una historia: desde un cl√°sico rico y fudgy hasta una creaci√≥n c√≠trica y brillante. Renovamos y rotamos el men√∫ cada pocos meses para traerte favoritos de temporada y especialidades exclusivas.",
        p2: "Nuestro men√∫ personalizado ‚Äîdisponible para celebraciones, bodas y eventos‚Äî te permite dar vida a tu visi√≥n con sabores y dise√±os hechos a tu medida. Cuidamos cada detalle para que cada postre sea verdaderamente inolvidable.",
      },
      photoCaption: "Head Baker",
      teamTitle: "Nuestro equipo",
      team: {
        name1: "Johana",
        role1: "Head Baker",
      },
    },

    // Product Descriptions (from data.json)
  },
};

// Funci√≥n para obtener el idioma del navegador
function getBrowserLanguage() {
  const language = navigator.language || navigator.userLanguage;
  const shortLang = language.split("-")[0];

  // Si el idioma del navegador es espa√±ol, usar espa√±ol, sino ingl√©s
  return shortLang === "es" ? "es" : "en";
}

// Funci√≥n para obtener traducci√≥n
function t(key, lang = null) {
  const currentLang = lang || getBrowserLanguage();
  const keys = key.split(".");
  let value = translations[currentLang];

  for (const k of keys) {
    if (value && value[k]) {
      value = value[k];
    } else {
      // Fallback a ingl√©s si no encuentra la traducci√≥n
      value = translations.en;
      for (const fallbackKey of keys) {
        if (value && value[fallbackKey]) {
          value = value[fallbackKey];
        } else {
          return key; // Retorna la clave si no encuentra traducci√≥n
        }
      }
    }
  }

  return value;
}

// Funci√≥n para cambiar idioma manualmente
function changeLanguage(lang) {
  if (translations[lang]) {
    localStorage.setItem("preferredLanguage", lang);
    location.reload();
  }
}

// Funci√≥n para obtener idioma preferido (del localStorage o navegador)
function getPreferredLanguage() {
  return localStorage.getItem("preferredLanguage") || getBrowserLanguage();
}

// Exportar funciones para uso global
window.i18n = {
  t,
  changeLanguage,
  getPreferredLanguage,
  getBrowserLanguage,
};
